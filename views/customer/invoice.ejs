<%- include('../partials/header') %>
<div class="container mt-4">
  <h2>Invoice</h2>
  <p><strong>Name:</strong> <%= order.customerDetails.name %></p>
  <p><strong>Email:</strong> <%= order.customerDetails.email %></p>
  <p><strong>Phone:</strong> <%= order.customerDetails.phone %></p>
  <p><strong>Address:</strong> <%= order.customerDetails.address %></p>
  <table class="table table-bordered mt-3">
    <thead><tr><th>Product</th><th>Qty</th><th>Unit Price</th><th>Total</th></tr></thead>
    <tbody>
      <% order.items.forEach(item => {
        const product = item.productId;
        const total = product.price * item.quantity;
      %>
        <tr>
          <td><%= product.name %></td>
          <td><%= item.quantity %></td>
          <td>$<%= product.price %></td>
          <td>$<%= total.toFixed(2) %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
  <h4>Total: $<%= order.totalAmount.toFixed(2) %></h4>
  <a href="/products" class="btn btn-primary mt-3">Continue Shopping</a>
</div>
<%- include('../partials/footer') %>
