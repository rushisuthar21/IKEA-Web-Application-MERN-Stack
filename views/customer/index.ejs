<%- include('../partials/header') %>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>


<!-- 🚀 Image Slider -->
 <div id="homeSlider" class="carousel slide mb-4" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
        <img src="/public/images/14-print-4160-Locust-Ave_11-2048x1366.jpg" class="d-block w-100" alt="Banner 1">
        <div class="carousel-caption d-none d-md-block">
        <h3 class="fw-bold">Stylish Home Sofa Sets</h3>
        <p>Discover premium Sofa's at Latest Warehouse of IKEA collections.</p>
      </div>
    </div>


    <div class="carousel-item">
      <img src="/public/images/2-1080x584.png" class="d-block w-100" alt="Banner 2">
      <div class="carousel-caption d-none d-md-block">
        <h3 class="fw-bold">Wooden Chairs and Furniture</h3>
        <p>Explore Modern Wooden Furniture with handmade Carvings.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="/public/images/living-room-fireplace-coffee-table-37d91456-9b85f4df8e284f99a628a10946f917af.webp" class="d-block w-100" alt="Banner 3">
      <div class="carousel-caption d-none d-md-block">
        <h3 class="fw-bold">Simple and Sober Table with Four-piece Sofa's</h3>
        <p>Great Collections.. Great Deals On Weekends!!!</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="/public/images/strong-home-patterned-living-room-87624764-a0e6bc87859146908e347ae38a04ba6f.webp" class="d-block w-100" alt="Banner 3">
      <div class="carousel-caption d-none d-md-block">
        <h3 class="fw-bold">Old-Fashioned Sofa and Chairs from 90's </h3>
        <p>Get this Exclusive Set just for $199.99 Only</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#homeSlider" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#homeSlider" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="container text-center mb-5">
  <h2 class="fw-bold mb-4">Discover Your Perfect Home Decor</h2>
  <p class="text-muted mb-4">
    At IKEA, we offer a wide range of furniture and home decor items designed to suit your taste and budget. From modern designs to classic styles, we have something for everyone.
  </p>
  <a href="/contact" class="btn btn-primary btn-lg">Contact Us</a>
</div>

<!-- 🏬 Shop Products Section -->
<div class="container mt-4">
  <h2 class="text-center fw-bold mb-4">Shop Our Products</h2>

  <!-- 🔍 Search & Filter -->
  <form method="GET" action="/products" class="row g-3 mb-4">
    <div class="col-md-6">
      <input type="text" name="search" class="form-control" placeholder="Search products..." value="<%= search || '' %>">
    </div>
    <div class="col-md-4">
      <select name="category" class="form-select">
        <option value="all">All Categories</option>
        <% categories.forEach(cat => { %>
          <option value="<%= cat %>" <%= cat === category ? 'selected' : '' %>><%= cat %></option>
        <% }) %>
      </select>
    </div>
    <div class="col-md-2">
      <button class="btn btn-primary w-100">Filter</button>
    </div>
  </form>

  <!-- 🛒 Product Grid -->
  <div class="row">
    <% products.forEach(p => { %>
      <div class="col-md-4 col-lg-3 mb-4">
        <div class="card product-card h-100 shadow-sm">
          <a href="/products/<%= p._id %>" style="text-decoration: none; color: inherit;">
            <img src="<%= p.image %>" class="card-img-top product-img">
            <div class="card-body">
              <h5 class="card-title fw-bold"><%= p.name %></h5>
              <p class="card-text price">$<%= p.price.toFixed(2) %></p>
              <p class="text-muted small"><%= p.category %></p>
            </div>
          </a>
          <div class="card-footer bg-white border-top">
            <form method="POST" action="/cart/add">
              <input type="hidden" name="productId" value="<%= p._id %>">
              <button class="btn btn-sm btn-primary w-100">Add to Cart</button>
            </form>
          </div>
        </div>
      </div>
    <% }) %>
  </div>
</div>

<!-- 🎥 Promotional Video -->
<div class="container mt-5">
  <h2 class="text-center fw-bold mb-4">Discover Our Collection</h2>
  <div class="video-container">
    <iframe 
      src="https://www.youtube.com/embed/example_video_id" 
      title="IKEA Home Decor"
      frameborder="0"
      allowfullscreen>
    </iframe>
  </div>
</div>


<%- include('../partials/footer') %>